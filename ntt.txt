============================================================
FILE: notes.txt
============================================================

yywrap
yylex
yytext
yyleng
yyin
yyparse
yyerror(char *s)
yyval

strcmp
strcpy

yacc -d lang.y

%s
%token


============================================================
FILE: calc.y
============================================================

%{
    #include<stdlib.h>
    #include<stdio.h>
%}

%token NUMBER

%left '+' '-'
%left '*' '/'
%left '(' ')'

%%

start:
      e '\n' {printf("%d", $1);}
    | '\n' {printf("Empty");}
    ;

e:    e '+' e {$$ = $1 + $3;}
    | e '-' e {$$ = $1 - $3;}
    | e '*' e {$$ = $1 * $3;}
    | e '/' e {$$ = $1 / $3;}
    | '(' e ')' {$$ = $2;}
    | NUMBER {$$ = $1;}
    ;

%%

int main(){
    yyparse();
    return 1;
}

int yyerror(char *s)
{
    printf("Error");
    exit(1);
}


============================================================
FILE: fsm.l
============================================================

%{
#include<stdio.h>
%}

%s s02 s03 s12 s13

%%

<INITIAL>a        BEGIN s12;
<INITIAL>b        BEGIN s03;
<INITIAL>\n       BEGIN INITIAL; printf("valid");

<s02>a            BEGIN s12;
<s02>b            BEGIN s03;
<s02>\n           BEGIN INITIAL; printf("invalid");

<s03>a            BEGIN s03;
<s03>b            BEGIN s13;
<s03>\n           BEGIN INITIAL; printf("invalid");

<s12>a            BEGIN s02;
<s12>b            BEGIN s13;
<s12>\n           BEGIN INITIAL; printf("invalid");

<s13>a            BEGIN s03;
<s13>b            BEGIN s12;
<s13>\n           BEGIN INITIAL; printf("invalid");

%%

int yywrap(){return 1;}

int main(){
    yylex();
}


============================================================
FILE: calc.l
============================================================

%{
#include<stdio.h>
#include "y.tab.h"
extern int yylval;
%}

%%

[0-9]+      { yylval = atoi(yytext); return NUMBER; }
\n          { return '\n'; }
.           { return yytext[0]; }

%%


============================================================
FILE: count.l
============================================================

%{
#include<stdio.h>
int c = 0, w = 0, s = 0, l = 0;
FILE * out;
%}

%%

[<a-z>]+ { printf("%s", yytext); }
.        ;

%%

int yywrap(){ return 1; }

int main(){
    out = fopen("output.txt", "w");
    FILE * in = fopen("input.txt", "r");
    yylex();
}
